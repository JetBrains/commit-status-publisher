<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">
<beans default-autowire="constructor">
  <bean id="problems" class="jetbrains.buildServer.commitPublisher.CommitStatusPublisherProblems"/>
  <bean id="voterBuildFeature" class="jetbrains.buildServer.commitPublisher.CommitStatusPublisherFeature"/>
  <bean id="voterBuildListener" class="jetbrains.buildServer.commitPublisher.CommitStatusPublisherListener"/>
  <bean id="voterSettingsController" class="jetbrains.buildServer.commitPublisher.PublisherSettingsController"/>
  <bean class="jetbrains.buildServer.commitPublisher.CommitStatusPublisherFeatureController"/>
  <bean class="jetbrains.buildServer.commitPublisher.PublisherManager"/>

  <bean class="jetbrains.buildServer.commitPublisher.stash.StashSettings"/>
  <bean class="jetbrains.buildServer.commitPublisher.bitbucketCloud.BitbucketCloudSettings"/>
  <bean class="jetbrains.buildServer.commitPublisher.gerrit.GerritSettings"/>

  <!-- github -->
  <bean id="gitHubCommitStatusFormatterImpl"  class="jetbrains.buildServer.commitPublisher.github.api.impl.GitHubCommitStatusFormatterImpl"/>
  <bean id="githubChangeStatusUpdater" class="jetbrains.buildServer.commitPublisher.github.ChangeStatusUpdater">
      <constructor-arg index="1" ref="gitHubApiFactoryImpl"/>
      <constructor-arg index="2" ref="gitHubCommitStatusFormatterImpl"/>
  </bean>
  <bean id="gitHubApiFactoryImpl" class="jetbrains.buildServer.commitPublisher.github.api.impl.GitHubApiFactoryImpl"/>
  <bean class="jetbrains.buildServer.commitPublisher.github.api.impl.HttpClientWrapperImpl" destroy-method="dispose"/>
  <bean class="jetbrains.buildServer.commitPublisher.github.GitHubSettings">
      <constructor-arg ref="githubChangeStatusUpdater"/>
  </bean>
  <bean class="jetbrains.buildServer.commitPublisher.github.reports.SecurityParametersReport"/>
  <bean class="jetbrains.buildServer.commitPublisher.github.reports.SecurityParametersReportPageExtension"/>

  <!-- gitlab -->
  <bean id="gitLabCommitStatusFormatterImpl"  class="jetbrains.buildServer.commitPublisher.gitlab.api.impl.GitLabCommitStatusFormatterImpl"/>
  <bean class="jetbrains.buildServer.commitPublisher.gitlab.api.impl.GitLabCommitStatusFormatterImpl"/>
  <bean id="gitlabChangeStatusUpdater" class="jetbrains.buildServer.commitPublisher.gitlab.ChangeStatusUpdater">
    <constructor-arg index="1" ref="gitLabApiFactoryImpl"/>
    <constructor-arg index="2" ref="gitLabCommitStatusFormatterImpl"/>
  </bean>
  <bean id="gitLabApiFactoryImpl" class="jetbrains.buildServer.commitPublisher.gitlab.api.impl.GitLabApiFactoryImpl"/>
  <bean class="jetbrains.buildServer.commitPublisher.gitlab.GitLabSettings">
      <constructor-arg ref="gitlabChangeStatusUpdater"/>
  </bean>

  <!-- upsource -->
  <bean class="jetbrains.buildServer.commitPublisher.upsource.UpsourceSettings"/>

  <bean class="jetbrains.buildServer.commitPublisher.ServerListener">
    <constructor-arg index="0" ref="configActionsDispatcher"/>
  </bean>

</beans>
